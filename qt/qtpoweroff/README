QtPowerOff - simple tool to sheduled power off / reboot your PC

Written on Qt4/Qt5.

On Linux systems it works with DBUS

On Windows it uses WinAPI or shutdown command

---------------
Howto build app:
---------------

Using qmake:
------------

> qmake

> make

> make install

To install into different PREFIX run:

> qmake PREFIX=${PREFIX}

where ${PREFIX} - Your prefix path

To build app in debug mode:

> qmake CONFIG+=debug

Using cmake:
-----------

> mkdir build && cd build

> cmake ..

> make && make install

Usefull cmake flags:

-DUSE_QT5=ON (OFF - Default) --Disable or enable Qt5 support

-DCMAKE_INSTALL_PREFIX=${PREFIX} --Set install prefix

-DBUILD_TRANSLATIONS=OFF (ON - Default) --Build project translations

-DCMAKE_BUILD_TYPE=Release (Debug and other) --Change binary type 

-------------------------
Howto Create polkit rules
-------------------------
To use this tool on Linux you need to be in "power" group
And create 10-upower.rules file in /etc/polkit-1/rules.d containing

polkit.addRule(function(action, subject) {
    if (action.id == "org.freedesktop.consolekit.system.restart" ||
        action.id == "org.freedesktop.consolekit.system.stop" ||
        action.id == "org.freedesktop.consolekit.system.restart-multiple-users" ||
        action.id == "org.freedesktop.consolekit.system.stop-multiple-users" &&
        subject.isInGroup("power")) {
        return polkit.Result.YES;
}
});