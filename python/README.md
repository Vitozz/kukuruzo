Python Projects

Доступные проекты: "Выключалка", pyAlsaVolume, pySSHClient, HTML->TXT Converter
"Выключалка"

    Программа pyPowerOff - запланированное выключение компьютера.
    На самом деле это я просто попробовал сделать что-то типа оболочки
    для shutdown в Ubuntu и Windows при помощи Pyhton.

Начиная с версии 1.1 в программе появилась возможность задать время
выключения или перезагрузки системы (например необходимо чтобы система
выключилась в 18-00, выбираем "Выключить в (часы:минуты)" и выставляем
18 - 00, выбираем тип выключения "Выключение" и нажимаем кнопку выключения.
Программа попросит подтвердить выключение и сообщит через сколько минут
произойдет событие выключения. Жмем ОК.

Если у вас ОС Linux программа еще попросит при запуске ввести пароль
суперпользователя. И чтобы не отвлекать внимания и не мешать можно
свернуть программу в трей.

Также можно выбрать интервал времени, через который произойдет выключение
 или перезагрузка системы, тип выключения системы (перезагрузка или выключение).

Время которое осталось до выключения/перезагрузки будет отображаться в
 заголовке окна в секундах.

Если вы вдруг передумали выключать систему и захотели отменить, то 
зайдите в меню Options и там выберите Terminate или выберите пункт 
контекстного меню Terminate Shutdown клацнув правой кнопкой по иконке 
программы в TaskBar-е (Панели задач)

ВНИМАНИЕ! Если нажать кнопку Выключить при интервале времени равном нулю, 
то система будет незамедлительно выключена/перезагружена (в зависимости 
от того что было выбрано в чек-бокс-листе, и отменить это действие будет 
практически невозможно (к ОС Windows это не относится, т.к. там даже при 
интервале "ноль" по-дефолту ставиться 30 сек, однако отменить выключение 
можно только из консоли)!

С февраля 2012 года программа выходит в 2х версиях 1.2.х - с интерфейсом 
на GTK-2 и 1.3.х с интерфейсом на GTK-3.

Начиная с версии 1.2.3 в ОС Linux программа использует DBUS для 
выключения/перезагрузки ПК и не просит прав суперпользователя

В ОС Windows программа должна запускаться Администратором или 
пользователем с правами администратора.

Чтобы установить программу в ОС Ubuntu необходимо:

- или установить пакет pypoweroff через программу установки пакетов

- или выполнить:

sudo dpkg -i pypoweroff*.deb

Для установки в ОС Windows нужно просто распаковать архив с 
инсталлятором и запустить setup.exe, после установки появятся ярлыки на 
рабочем столе и в меню "пуск", Наличие в системе предустановленного 
Python и GTK не нужно.

Чтобы установить программу в ОС Linux, достаточно распаковать архив и 
выполнить в терминале:

cd путь_куда_распаковали_архив

python setup.py build

python setup.py install --prefix=/usr

и запускать командой pypoff

Для нормальной работы программе необходимы:

python >=2.5

pygtk >= 2.0

python-gtk2

"pyAlsaVolume"

Многие пользователи Ubuntu, чтобы избавиться от проблем со звуком, как и 
я, удалили PulseAudio и остались с ALSA, и всё стало хорошо, если не 
считать того что теперь нет регулятора громкости в трее.

Я решил попробовать исправить данную проблему, вооружился Python, 
python-alsaaudio и python-wxgtk2.8, и сделал небольшую программку.

Чуть позже из-за проблем с добавлением "регулятора" в автозапуск - 
переделал программу переведя интерфейс на GTK2 и практически полностью 
изменив код.

Данная программа может изменять громкость одного из микшеров ALSA, 
выбрать который можно в настройках, также запускать один из микшеров 
установленных в системе (например gnome-alsamixer).

Установка программы версии 0.3 производиться следующими 2мя способами:

1й способ:

1 - Распаковываем архив в любой каталог

2 - в терминале пишем:

chmod pyAlsaVolume.py

3 - и запускаем командой

./pyAlsaVolume.py

2й способ:

1 - распаковываем архив в любой каталог

2 - выполняем в терминале из этого каталога:

python install.py

3 - Отвечаем на вопросы инсталлятора (он предложит установить 
недостающие модули, предложит указать путь для установки программы, 
предложит создать символическую ссылку в /usr/local/bin)

4 - Если вы создали ссылку - запускаем программу командой:

pyAlsaVolume

Установка программы начиная с версии 0.7 в Ubuntu производиться при 
помощи штатного установщика пакетов или командой:

sudo dpkg -i pyalsavolume_0.7-1_all.deb

После установки программу можно добавить в автозапуск зайдя в меню 
"Система" -> "Параметры" -> "Запускаемые приложения", там нажав кнопку 
"Добавить" прописать команду pyalsavolume

Начиная с версии 0.7 иконка программы появилась в меню "Приложения" в 
разделе "Аудио и видео"

*Начиная с версии 0.9.2 добавление программы в автозапуск делается прямо
из диалога настроек программы.

*Начиная с версии 0.9.3 программа стала хранить свои настройки в файле 
~/.pyalsavolume/config.cfg (если после смены настроек у вас проблемы с 
запуском программы просто удалите этот файл). Добавлена поддержка пакетов 
иконок для программы. Это должен быть архив формата tar.gz с иконками 
следующих параметров (tb_icon0.png, tb_icon20.png, tb_icon40.png, 
tb_icon60.png, tb_icon80.png, tb_icon100.png) размер 24х24рх и 
volume.png с высотой не больше 135px. Архив должен лежать в 
~/.pyalsavolume/icons

На данный момент доступны 3 тестовых пакета flat.tar.gz, circle.tar.gz и 
round.tar.gz (делал сам на скорую руку)

для работы программы версии 0.3 необходимы следующие пакеты:

python >= 2.6

python-wxgtk2.8

python-alsaaudio

для работы программы версии >=0.4 необходимы:

python >=2.5

pygtk >= 2.0

python-gtk2

Внимание иконки программы я рисовал сам и т.к я не художник, то вышла 
она не cлишком красиво, иконки можно заменить на любые другие разрешением 
24х24 в формате png, сохранив имена оригинальных иконок.

!!!! Данная программа больше не разрабатывается и не обновляется !!!!

"pySSHClient"

Недавно заинтересовался расшариванием каталогов по сети (надоело бегать 
с флешкой), решил попробовать SSHFS. Попробовал - понравилось. Но как 
оказалось чтобы подключиться необходимо либо запустить команду из консоли 
либо сделать скрипт запуска. ГУИ оказался только для MacOS. Наткнулся 
на статейку, в которой делали ГУИ но для KDE4, вооружившись Python и 
PyGTK - стал делать ГУИ для GNOME.

Для нормальной работы программы необходимо:

    python >= 2.6
    python-crypto
    python-gtk2
    python-libglade2
    python-pexpect
    sshfs
    openssh-client
    добавить пользователя в группу fuse

Для того чтобы к вам могли подключиться используя SSHF еще понадобится 
пакет openssh-server

Подключение происходит по порту 22, необходимо проверить открыт ли этот 
порт в фаерволе.

Программа при выходе запоминает последние настройки и пароль для доступа, 
который храниться в зашифрованном виде.

Внимание! Программа довольно сырая и тестировалась всего на одной машине.

Если программа не соединяется с удаленным каталогом, попробуйте 
выполнить команду:

sshfs user@sever:remote_path mount_point

где user - имя удаленного пользователя

sever - IP или hostname удаленного сервера к которому вы подключаетесь

remote_path - каталог на удаленном компьютере который вы будете 
монтировать в mount_point

mount_point - точка монтирования на вашем компьютере

Если выполнив команду соединение не установилось, значит на удаленном 
компьютере не открыт порт для ssh либо вы что-то недоустановили.

Начиная с версии 0.2 у программы появилась возможность создавать сразу 
несколько подключений в одном сеансе, и задавать другой порт для 
удаленного подключения. Теперь при закрытии программа сама отмонтирует 
все примонтированные шары.

!!!! Данная программа больше не разрабатывается и не обновляется !!!!

"HTML -> TXT Converter"

Так уж вышло что много электронных книг в моей коллекции сохранены в 
формате HTML, и многие "читалки" не могут их нормально открыть, либо 
вообще не могут открыть, либо открывают с мусором от тегов.

Вооружившись "питоном" и гуглом, я написал небольшую программку, цель 
которой - пакетное преобразование файлов HTML в простой текстовый формат 
файла TXT.

Написана программа с использованием интерфейса GTK+.

Основные возможности:

    автоматическое определение кодировки исходных файлов (есть вариант 
    ручной)
    возможность записи в кодировку отличную от UTF-8 (пока-что всего 3 
    варианта)
    возможность парой кликов мыши переконвертировать множество файлов

!!!! Данная программа больше не разрабатывается и не обновляется !!!!

Для работы необходимо следующее:

    python (>=2.4)
    python-gtk (>=2.0)
    python-glade2
    python-chardet

Rhythmbox plugins

Rhythmbox Tune To Psi

В файловом хранилище выложен плагин отправки tune сообщения в

Jabber-клиент Psi/Psi+, для плеера Rhythmbox, написанный на Python

Прямая ссылка для скачивания

Чтобы его установить, необходимо:

1. Создать директорию rhythmbox в каталоге ~/.gnome2, а в ней директорию 
plugins ,

в итоге получается путь ~/.gnome2/rhythmbox/plugins:

- в терминале:

cd ~/.gnome2 && mkdir rhythmbox && cd rhythmbox && mkdir plugins

2. Распаковать zip-архив в ~/.gnome2/rhythmbox/plugins так,

чтобы плагин был в своем каталоге ~/.gnome2/rhythmbox/plugins/tunetopsi

3. В менеджере плагинов плеера Rhythmbox включить плагин, поставив 
галочку напротив

соответствующего имени

Возможен вариант установки при помощи setup:

1. Распаковываем архив с плагином

2. От имени суперпользователя запускаем:

python setup.py install

Для нормальной работы также необходимы:

          python >= 2.5

          Rhythmbox

На плеер версии >= 0.13.1 данный плагин можно не устанавливать, если 
установлен и включен плагин MPRIS, в последних релизах Psi/Ps+ появилась 
поддержка приёма тюнсов по интерфейсу MPRIS.

Restore Plugin

Представляю плагин для плеера Rhythmbox, цель которого - восстановление 
последнего трека при запуске плеера.

Огромное спасибо Florian Dorn <florian.dorn@boku.ac.at> за идею плагина 
и за кусок кода который я подглядел у него.

Основные возможности плагина:

    меню настроек - в котором можно выбрать нужно-ли начинать 
    воспроизведение трека при восстановлении и нужно ли восстанавливать 
    позицию проигрывания последнего трека (время последнего трека) 
    (начиная с версии 0.2)
    реализован многопоточный режим для функции восстановления трека с 
    целью предотвращения зависаний графического интерфейса плеера.
    для пользователей с русской локалью (например ru_RU, ru_UA итд) - 
    русский интерфейс
    для пользователей с украинской локалью (ua_UA) - украинский интерфейс
    для пользователей Ubuntu - debian-пакет

Начиная с версии 0.9 практически полностью изменен механизм 
восстановления, теперь нет чавканья звука при восстановлении трека 
(есть задержка при восстановлении позиции). Поддержка версии 0.13.1 плеера.

Различия между механизмами старым и новым:

*старый:

    находит трек в базе
    начинает его воспроизведение
    восстанавливает позицию (опционально)
    если была выбрана опция не воспроизводить, то трек ставился на паузу

*новый:

    находит трек в базе
    если выбрана опция "не воспроизводить", то:
        определяет к какому источнику принадлежит этот трек
        выбирает этот источник
        если трек в плейлисте источника был найден, то происходит выбор 
        трека в плейлисте и перемотка плейлиста к треку
        если выбрана опция восстанавливать позицию, то позиция будет 
        восстановлена при нажатии кнопки "Воспроизвести"
    если опция "не воспроизводить" не была выбрана:
        пытается сразу проиграть трек
        восстанавливает позицию (опционально)

Если в 2 словах, то новый механизм (при выбранной опции "не 
воспроизводить") полностью имитирует действия живого человека.

Т.к. плагин технически находится еще в стадии бета-версии, пользуйтесь 
им на свой страх и риск.
Управление в трее(Control icons in tray)

Данный плагин добавляет в трей иконки(кнопки) для управления 
воспроизведением плеера.

Установка плагина:

    пользователям Ubuntu достаточно скачать deb-пакет в разделе 
    Downloads или по прямой ссылке
    остальным необходимо скачать "исходники" и скопировать каталог 
    remote в $HOME/.gnome2/rhythmbox/plugins (если у вас такого каталога 
    нет - его необходимо создать)

Работа с плагином:

    в плеере Rhythmbox заходим в "Правка" - "Модули" и в появившемся 
    окне включаем плагин "Управление в трее", для тех у кого локаль 
    отличная от русской плагин называется "Control icons in tray":

Для нормальной работы плагина необходимы:

    python-gtk2,
    python-glade2,
    python-gconf,
    rhythmbox

Exaile Plugins

Tune To Psi Plugin

    В связи с тем, что в Jabber-клиенте Psi+/Psi появилась поддержка 
    MPRIS рекомендуется использовать встроенный плагин плеера - MPRIS, 
    желающие всё равно использовать этот плагин

Remote Plugin

    Данный плагин добавляет в трей иконки(кнопки) для управления 
    воспроизведением плеера.

Установка плагина:

    пользователям Ubuntu достаточно скачать deb-пакет в разделе Downloads
    остальным необходимо скачать "исходники" и скопировать каталог remote
    в $HOME/.local/share/exaile/plugins (если у вас такого каталога 
    нет - его необходимо создать)

Работа с плагином:

    В плеере заходим в меню "Правка" там выбираем "Параметры", в 
    появившемся окне настроек выбираем "Модули" и там ищем модуль 
    "Tray Controls", и включаем его:
